<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Start - 这是一位晚上才会更新的up</title><meta name="keywords" content="博客 java python android"><meta name="author" content="Mrs.G"><meta name="copyright" content="Mrs.G"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="月亮不睡你不睡,你是秃头小宝贝">
<meta property="og:type" content="website">
<meta property="og:title" content="Start">
<meta property="og:url" content="https://gwlnigth.github.io/index.html">
<meta property="og:site_name" content="Start">
<meta property="og:description" content="月亮不睡你不睡,你是秃头小宝贝">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://raw.githubusercontent.com/gwlnigth/upic/main/img/myher.png">
<meta property="article:author" content="Mrs.G">
<meta property="article:tag" content="博客 java python android">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://raw.githubusercontent.com/gwlnigth/upic/main/img/myher.png"><link rel="shortcut icon" href="https://gitee.com/airgwl/upic/raw/master//img/favicon.png"><link rel="canonical" href="https://gwlnigth.github.io/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":1,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    jQuery: 'https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js',
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
    },
    fancybox: {
      js: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js',
      css: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isanchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Start',
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2022-12-29 19:24:46'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
          const isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
          const isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
          const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

          if (t === undefined) {
            if (isLightMode) activateLightMode()
            else if (isDarkMode) activateDarkMode()
            else if (isNotSpecified || hasNoSupport) {
              const now = new Date()
              const hour = now.getHours()
              const isNight = hour <= 6 || hour >= 18
              isNight ? activateDarkMode() : activateLightMode()
            }
            window.matchMedia('(prefers-color-scheme: dark)').addListener(function (e) {
              if (saveToLocal.get('theme') === undefined) {
                e.matches ? activateDarkMode() : activateLightMode()
              }
            })
          } else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if (GLOBAL_CONFIG_SITE.isHome && /iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    document.addEventListener('pjax:complete', detectApple)})(window)</script><link rel="stylesheet" href="/css/style.css"><meta name="generator" content="Hexo 5.4.0"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">加载中...</div></div></div><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://raw.githubusercontent.com/gwlnigth/upic/main/img/myher.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">文章</div><div class="length-num">129</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/tags/"><div class="headline">标签</div><div class="length-num">29</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/categories/"><div class="headline">分类</div><div class="length-num">15</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 清单</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/Gallery/"><i class="fa-fw fa-fw fas fa-images"></i><span> 图库</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/gulugulu/"><i class="fa-fw fas fa-link"></i><span> 叽里呱啦</span></a></div></div></div></div><div class="page" id="body-wrap"><header class="full_page" id="page-header" style="background: orange"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">Start</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 清单</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/Gallery/"><i class="fa-fw fa-fw fas fa-images"></i><span> 图库</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/gulugulu/"><i class="fa-fw fas fa-link"></i><span> 叽里呱啦</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="site-info"><h1 id="site-title">Start</h1><div id="site-subtitle"><span id="subtitle"></span></div><div id="site_social_icons"><a class="social-icon" href="https://github.com/gwlnigth" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:2423414358@qq.com" target="_blank" title="QQ邮箱"><i class="fas fa-envelope"></i></a></div></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2022/12/29/react%E3%80%90styled-components%E7%9A%84%E4%BD%BF%E7%94%A8%E3%80%91/" title="ReactStyled-components">     <img class="post_bg" src="https://w.wallhaven.cc/full/rd/wallhaven-rdpgxj.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="ReactStyled-components"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/12/29/react%E3%80%90styled-components%E7%9A%84%E4%BD%BF%E7%94%A8%E3%80%91/" title="ReactStyled-components">ReactStyled-components</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-12-29T11:19:53.341Z" title="发表于 2022-12-29 19:19:53">2022-12-29</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E5%89%8D%E7%AB%AF/">前端</a></span></div><div class="content">21 【styled-components的使用】1.为什么要用这个我们都知道，我们从最开始学css的时候，为了避免写的样式影响到另外的地方。所以我们这样来写的。
123#userConten .userBtn button&#123;  font-size: 18px;&#125;

首先给一个元素写了一个唯一id | class，然后在这个里面写对应的样式，就可以避免影响到其它地方的代码。但是，如果项目是多人协作，那就可能存在命名冲突了，所以我们想要一种技术来让整个项目起的类名都是唯一的id。避免样式冲突等问题。所以css in js 就来了。

简单来说CSS-in-JS就是将应用的CSS样式写在JavaScript文件里面，而不是独立为一些.css，.scss或者less之类的文件，这样你就可以在CSS中使用一些属于JS的诸如模块声明，变量定义，函数调用和条件判断等语言特性来提供灵活的可扩展的样式定义
使用这个技术写的库有很多，react中火的是styled-components，vue中css scope也是这个思想，每个组件都有它的scopeId，样式进行绑定，css mo ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2022/12/29/react%E3%80%90react%E4%B8%AD%E4%BD%BF%E7%94%A8ts%E3%80%91/" title="React中使用ts">     <img class="post_bg" src="https://w.wallhaven.cc/full/g7/wallhaven-g75r7d.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="React中使用ts"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/12/29/react%E3%80%90react%E4%B8%AD%E4%BD%BF%E7%94%A8ts%E3%80%91/" title="React中使用ts">React中使用ts</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-12-29T11:19:53.333Z" title="发表于 2022-12-29 19:19:53">2022-12-29</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E5%89%8D%E7%AB%AF/">前端</a></span></div><div class="content">20 【react中使用ts】官方文档：React TypeScript Cheatsheets | React TypeScript Cheatsheets (react-typescript-cheatsheet.netlify.app)

找了好久才找到

1.创建一个组件下面我们将要创建一个Hello组件。 这个组件接收任意一个我们想对之打招呼的名字（我们把它叫做name），并且有一个可选数量的感叹号做为结尾（通过enthusiasmLevel）。
若我们这样写&lt;Hello name=&quot;Daniel&quot; enthusiasmLevel=&#123;3&#125; /&gt;，这个组件大至会渲染成&lt;div&gt;Hello Daniel!!!&lt;/div&gt;。 如果没指定enthusiasmLevel，组件将默认显示一个感叹号。 若enthusiasmLevel为0或负值将抛出一个错误。
下面来写一下Hello.tsx：
123456789101112131415161718192021222324252627282930// src/com ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2022/12/29/react%E3%80%90RTK%20Query%E3%80%91/" title="ReactRTK Query">     <img class="post_bg" src="https://w.wallhaven.cc/full/g7/wallhaven-g75r7d.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="ReactRTK Query"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/12/29/react%E3%80%90RTK%20Query%E3%80%91/" title="ReactRTK Query">ReactRTK Query</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-12-29T11:19:53.329Z" title="发表于 2022-12-29 19:19:53">2022-12-29</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E5%89%8D%E7%AB%AF/">前端</a></span></div><div class="content">19 【RTK Query】1.目前前端常见的发起 ajax 请求的方式
1、使用原生的ajax请求
2、使用jquery封装好的ajax请求
3、使用fetch发起请求
4、第三方的比如axios请求
5、angular中自带的HttpClient

就目前前端框架开发中来说我们在开发vue、react的时候一般都是使用fetch或axios自己封装一层来与后端数据交互，至于angular肯定是用自带的HttpClient请求方式，但是依然存在几个致命的弱点，

1、对当前请求数据不能缓存，
2、一个页面上由多个组件组成，但是刚好有遇到复用相同组件的时候，那么就会发起多次ajax请求


📢 针对同一个接口发起多次请求的解决方法，目前常见的解决方案


1、使用axios的取消发起请求，参考文档
2、vue中还没看到比较好的方法
3、在rect中可以借用类似react-query工具对请求包装一层
4、对于angular中直接使用rxjs的操作符shareReplay

2.RTK Query 概述RTK不仅帮助我们解决了state的问题，同时，它还为我们提供了RTK Query用 ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2022/12/29/react%E3%80%90Redux%20Toolkit%E3%80%91/" title="ReactRedux Toolkit">     <img class="post_bg" src="https://w.wallhaven.cc/full/57/wallhaven-57mk71.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="ReactRedux Toolkit"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/12/29/react%E3%80%90Redux%20Toolkit%E3%80%91/" title="ReactRedux Toolkit">ReactRedux Toolkit</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-12-29T11:19:53.324Z" title="发表于 2022-12-29 19:19:53">2022-12-29</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E5%89%8D%E7%AB%AF/">前端</a></span></div><div class="content">18 【Redux Toolkit】上边的案例我们一直在使用Redux核心库来使用Redux，除了Redux核心库外Redux还为我们提供了一种使用Redux的方式——Redux Toolkit。它的名字起的非常直白，Redux工具包，简称RTK。RTK可以帮助我们处理使用Redux过程中的重复性工作，简化Redux中的各种操作。
1.Redux Toolkit 概览1.1  Redux Toolkit 是什么？Redux Toolkit 是官方推荐的编写 Redux 逻辑的方法。 它包含我们对于构建 Redux 应用程序必不可少的包和函数。 Redux Toolkit 的构建简化了大多数 Redux 任务，防止了常见错误，并使编写 Redux 应用程序变得更加容易。可以说 Redux Toolkit 就是目前 Redux 的最佳实践方式。
为了方便后面内容，之后 Redux Toolkit 简称 RTK
1.2 目的Redux 核心库是故意设计成非定制化的样子（unopinionated）。怎么做完全取决于你，例如配置 store，你的 state 存什么东西，以及如何构建 redu ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2022/12/29/react%E3%80%90redux%E3%80%91/" title="ReactRedux">     <img class="post_bg" src="https://w.wallhaven.cc/full/28/wallhaven-28o9ym.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="ReactRedux"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/12/29/react%E3%80%90redux%E3%80%91/" title="ReactRedux">ReactRedux</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-12-29T11:19:53.319Z" title="发表于 2022-12-29 19:19:53">2022-12-29</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E5%89%8D%E7%AB%AF/">前端</a></span></div><div class="content">17 【redux】引言我们现在开始学习了 Redux ，在我们之前写的案例当中，我们对于状态的管理，都是通过 state 来实现的，比如，我们在给兄弟组件传递数据时，需要先将数据传递给父组件，再由父组件转发 给它的子组件。这个过程十分的复杂，后来我们又学习了消息的发布订阅，我们通过 pubsub 库，实现了消息的转发，直接将数据发布，由兄弟组件订阅，实现了兄弟组件间的数据传递。但是，随着我们的需求不断地提升，我们需要进行更加复杂的数据传递，更多层次的数据交换。因此我们为何不可以将所有的数据交给一个中转站，这个中转站独立于所有的组件之外，由这个中转站来进行数据的分发，这样不管哪个组件需要数据，我们都可以很轻易的给他派发。
而有这么一个库就可以帮助我们来实现，那就是 Redux ，它可以帮助我们实现集中式状态管理
1.简介
Redux – 李立超 | lilichao.com
李立超老师的解释

A Predictable State Container for JS Apps是Redux官方对于Redux的描述，这句话可以这样翻译“一个专为JS应用设计的可预期的状态容器”，简单来说Re ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2022/12/29/react%E3%80%90react-router%206%E3%80%91/" title="Reactreact-router 6">     <img class="post_bg" src="https://w.wallhaven.cc/full/pk/wallhaven-pkkm6p.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Reactreact-router 6"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/12/29/react%E3%80%90react-router%206%E3%80%91/" title="Reactreact-router 6">Reactreact-router 6</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-12-29T11:19:53.315Z" title="发表于 2022-12-29 19:19:53">2022-12-29</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E5%89%8D%E7%AB%AF/">前端</a></span></div><div class="content">16 【react-router 6】
关于路由的知识已在11 【react-router 5】中进行说明，这里主要是对于5版本的api的变换说明

1.概述官方文档：Home v6.4.1 | React RouterReact Router 以三个不同的包发布到 npm 上，它们分别为：


react-router: 路由的核心库，提供了很多的：组件、钩子。
react-router-dom: 包含react-router所有内容，并添加一些专门用于 DOM 的组件，例如 &lt;BrowserRouter&gt;等 。
react-router-native: 包括react-router所有内容，并添加一些专门用于ReactNative的API，例如:&lt;NativeRouter&gt;等。


与React Router 5.x 版本相比，改变了什么？

内置组件的变化：移除&lt;Switch/&gt; ，新增 &lt;Routes/&gt;等。

语法的变化：component=&#123;About&#125; 变为 element=&#123;&lt;About ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2022/12/29/react%E3%80%90react-Hook%20%EF%BC%88%E4%B8%8B%EF%BC%89%E3%80%91/" title="Reactreact-Hook （下）">     <img class="post_bg" src="https://w.wallhaven.cc/full/z8/wallhaven-z8dz5w.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Reactreact-Hook （下）"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/12/29/react%E3%80%90react-Hook%20%EF%BC%88%E4%B8%8B%EF%BC%89%E3%80%91/" title="Reactreact-Hook （下）">Reactreact-Hook （下）</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-12-29T11:19:53.311Z" title="发表于 2022-12-29 19:19:53">2022-12-29</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E5%89%8D%E7%AB%AF/">前端</a></span></div><div class="content">15【react-Hook （下）】1.React.memo1.1 基本介绍
这是一个高阶组件，用来做性能优化的，这个本来应该是写在React高级指引中的，但是这个案例会和后面的useCallback联合起来，所以就写在这里了


React.memo() 是一个高阶组件，如果你的组件在相同 props 的情况下渲染相同的结果，那么你可以通过将其包装在 React.memo 中调用，以此通过记忆组件渲染结果的方式来提高组件的性能表现。
  它接收另一个组件作为参数，并且会返回一个包装过的新组件
  包装过的新组件就会具有缓存功能，这意味着在这种情况下，React 将跳过渲染组件的操作并直接复用最近一次渲染的结果。
  包装过后，只有组件的props发生变化，才会触发组件的重新的渲染，否则总是返回缓存中结果。如果函数组件被 React.memo 包裹，且其实现中拥有 useState，useReducer 或 useContext 的 Hook，当 state 或 context 发生变化时，它仍会重新渲染。



1.2 问题的引出React组件会在两种情况下发生重新渲染。第一种，当组 ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2022/12/29/react%E3%80%90react-Hook%20%EF%BC%88%E4%B8%8A%EF%BC%89%E3%80%91/" title="Reactreact-Hook （上）">     <img class="post_bg" src="https://w.wallhaven.cc/full/g7/wallhaven-g75r7d.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Reactreact-Hook （上）"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/12/29/react%E3%80%90react-Hook%20%EF%BC%88%E4%B8%8A%EF%BC%89%E3%80%91/" title="Reactreact-Hook （上）">Reactreact-Hook （上）</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-12-29T11:19:53.307Z" title="发表于 2022-12-29 19:19:53">2022-12-29</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E5%89%8D%E7%AB%AF/">前端</a></span></div><div class="content">14【react-Hook （上）】Hook 是 React 16.8 的新增特性。它可以让你在不编写 class 的情况下使用 state 以及其他的 React 特性。
1.准备1.1  什么是 HookHooks 译为钩子，Hooks 就是在函数组件内，负责钩进外部功能的函数。
React 提供了一些常用钩子，React 也支持自定义钩子，这些钩子都是用于为函数引入外部功能。
当我们在组件中，需要引入外部功能时，就可以使用 React 提供的钩子，或者自定义钩子。
1.2 动机在组件之间复用状态逻辑很难React 没有提供将可复用性行为“附加”到组件的途径（例如，把组件连接到 store）。你可以使用 Hook 从组件中提取状态逻辑，使得这些逻辑可以单独测试并复用。Hook 使你在无需修改组件结构的情况下复用状态逻辑。 这使得在组件间或社区内共享 Hook 变得更便捷。复杂组件变得难以理解我们经常维护一些组件，组件起初很简单，但是逐渐会被状态逻辑和副作用充斥。每个生命周期常常包含一些不相关的逻辑。Hook 将组件中相互关联的部分拆分成更小的函数（比如设置订阅或请求数据），而并非强 ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2022/12/29/react%E3%80%90react%E9%AB%98%E7%BA%A7%E6%8C%87%E5%BC%95%EF%BC%88%E4%B8%8B%EF%BC%89%E3%80%91/" title="Reactreact高级指引（下）">     <img class="post_bg" src="https://w.wallhaven.cc/full/57/wallhaven-57mk71.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Reactreact高级指引（下）"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/12/29/react%E3%80%90react%E9%AB%98%E7%BA%A7%E6%8C%87%E5%BC%95%EF%BC%88%E4%B8%8B%EF%BC%89%E3%80%91/" title="Reactreact高级指引（下）">Reactreact高级指引（下）</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-12-29T11:19:53.302Z" title="发表于 2022-12-29 19:19:53">2022-12-29</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E5%89%8D%E7%AB%AF/">前端</a></span></div><div class="content">13【react高级指引（下）】1.组件优化1.1 shouldComponentUpdate 优化在我们之前一直写的代码中，我们一直使用的Component 是有问题存在的

只要执行 setState ，即使不改变状态数据，组件也会调用 render
当前组件状态更新，也会引起子组件 render

而我们想要的是只有组件的 state 或者 props 数据发生改变的时候，再调用 render
我们可以采用重写 shouldComponentUpdate 的方法，但是这个方法不能根治这个问题，当状态很多时，我们没有办法增加判断
看个案例来了解下原理：
如果你的组件只有当 props.color 或者 state.count 的值改变才需要更新时，你可以使用 shouldComponentUpdate 来进行检查：
1234567891011121314151617181920212223242526class CounterButton extends React.Component &#123;  constructor(props) &#123;    super(props ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2022/12/29/react%E3%80%90react%E9%AB%98%E7%BA%A7%E6%8C%87%E5%BC%95%EF%BC%88%E4%B8%8A%EF%BC%89%E3%80%91/" title="Reactreact高级指引（上）">     <img class="post_bg" src="https://w.wallhaven.cc/full/g7/wallhaven-g75r7d.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Reactreact高级指引（上）"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/12/29/react%E3%80%90react%E9%AB%98%E7%BA%A7%E6%8C%87%E5%BC%95%EF%BC%88%E4%B8%8A%EF%BC%89%E3%80%91/" title="Reactreact高级指引（上）">Reactreact高级指引（上）</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-12-29T11:19:53.298Z" title="发表于 2022-12-29 19:19:53">2022-12-29</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E5%89%8D%E7%AB%AF/">前端</a></span></div><div class="content">12 【react高级指引（上）】1.setState 扩展1.1 对象式 setState首先在我们以前的认知中，setState 是用来更新状态的，我们一般给它传递一个对象，就像这样
123this.setState(&#123;    count: count + 1&#125;)

这样每次更新都会让 count 的值加 1。这也是我们最常做的东西
这里我们做一个案例，点我加 1，一个按钮一个值，我要在控制台输出每次的 count 的值

那我们需要在控制台输出，要如何实现呢？
我们会考虑在 setState 更新之后 log 一下
1234567add = () =&gt; &#123;    const &#123; count &#125; = this.state    this.setState(&#123;        count: count + 1    &#125;)    console.log(this.state.count);&#125;

因此可能会写出这样的代码，看起来很合理，在调用完 setState 之后，输出 count

我们发现显示的  ...</div></div></div><nav id="pagination"><div class="pagination"><span class="page-number current">1</span><a class="page-number" href="/page/2/#content-inner">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/13/#content-inner">13</a><a class="extend next" rel="next" href="/page/2/#content-inner"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://raw.githubusercontent.com/gwlnigth/upic/main/img/myher.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">Mrs.G</div><div class="author-info__description">月亮不睡你不睡,你是秃头小宝贝</div></div><div class="card-info-data"><div class="card-info-data-item is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">129</div></a></div><div class="card-info-data-item is-center"><a href="/tags/"><div class="headline">标签</div><div class="length-num">29</div></a></div><div class="card-info-data-item is-center"><a href="/categories/"><div class="headline">分类</div><div class="length-num">15</div></a></div></div><a class="button--animated" id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/gwlnigth"><i class="fab fa-github"></i><span>我的主页</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/gwlnigth" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:2423414358@qq.com" target="_blank" title="QQ邮箱"><i class="fas fa-envelope"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn card-announcement-animation"></i><span>公告</span></div><div class="announcement_content">文章正在努力更新嗷~</div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2022/12/29/react%E3%80%90styled-components%E7%9A%84%E4%BD%BF%E7%94%A8%E3%80%91/" title="ReactStyled-components"><img src="https://w.wallhaven.cc/full/rd/wallhaven-rdpgxj.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="ReactStyled-components"/></a><div class="content"><a class="title" href="/2022/12/29/react%E3%80%90styled-components%E7%9A%84%E4%BD%BF%E7%94%A8%E3%80%91/" title="ReactStyled-components">ReactStyled-components</a><time datetime="2022-12-29T11:19:53.341Z" title="发表于 2022-12-29 19:19:53">2022-12-29</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/12/29/react%E3%80%90react%E4%B8%AD%E4%BD%BF%E7%94%A8ts%E3%80%91/" title="React中使用ts"><img src="https://w.wallhaven.cc/full/g7/wallhaven-g75r7d.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="React中使用ts"/></a><div class="content"><a class="title" href="/2022/12/29/react%E3%80%90react%E4%B8%AD%E4%BD%BF%E7%94%A8ts%E3%80%91/" title="React中使用ts">React中使用ts</a><time datetime="2022-12-29T11:19:53.333Z" title="发表于 2022-12-29 19:19:53">2022-12-29</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/12/29/react%E3%80%90RTK%20Query%E3%80%91/" title="ReactRTK Query"><img src="https://w.wallhaven.cc/full/g7/wallhaven-g75r7d.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="ReactRTK Query"/></a><div class="content"><a class="title" href="/2022/12/29/react%E3%80%90RTK%20Query%E3%80%91/" title="ReactRTK Query">ReactRTK Query</a><time datetime="2022-12-29T11:19:53.329Z" title="发表于 2022-12-29 19:19:53">2022-12-29</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/12/29/react%E3%80%90Redux%20Toolkit%E3%80%91/" title="ReactRedux Toolkit"><img src="https://w.wallhaven.cc/full/57/wallhaven-57mk71.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="ReactRedux Toolkit"/></a><div class="content"><a class="title" href="/2022/12/29/react%E3%80%90Redux%20Toolkit%E3%80%91/" title="ReactRedux Toolkit">ReactRedux Toolkit</a><time datetime="2022-12-29T11:19:53.324Z" title="发表于 2022-12-29 19:19:53">2022-12-29</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/12/29/react%E3%80%90redux%E3%80%91/" title="ReactRedux"><img src="https://w.wallhaven.cc/full/28/wallhaven-28o9ym.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="ReactRedux"/></a><div class="content"><a class="title" href="/2022/12/29/react%E3%80%90redux%E3%80%91/" title="ReactRedux">ReactRedux</a><time datetime="2022-12-29T11:19:53.319Z" title="发表于 2022-12-29 19:19:53">2022-12-29</time></div></div></div></div><div class="card-widget" id="card-newest-comments"><div class="item-headline"><i class="fas fa-comment-dots"></i><span>最新评论</span></div><div class="aside-list"><span>正在加载中...</span></div></div><div class="card-widget card-categories"><div class="item-headline">
            <i class="fas fa-folder-open"></i>
            <span>分类</span>
            <a class="card-more-btn" href="/categories/" title="查看更多">
    <i class="fas fa-angle-right"></i></a>
            </div>
            <ul class="card-category-list" id="aside-cat-list">
            <li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Android%E5%BC%80%E5%8F%91/"><span class="card-category-list-name">Android开发</span><span class="card-category-list-count">9</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/ElasticSeach/"><span class="card-category-list-name">ElasticSeach</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/GUI%E7%BC%96%E7%A8%8B/"><span class="card-category-list-name">GUI编程</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/JavaSE/"><span class="card-category-list-name">JavaSE</span><span class="card-category-list-count">14</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Mysql/"><span class="card-category-list-name">Mysql</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Redis/"><span class="card-category-list-name">Redis</span><span class="card-category-list-count">9</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/SmartHome-%E7%AC%AC%E4%B8%80%E9%98%B6%E6%AE%B5/"><span class="card-category-list-name">SmartHome(第一阶段)</span><span class="card-category-list-count">2</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Spring/"><span class="card-category-list-name">Spring</span><span class="card-category-list-count">22</span></a></li>
            </ul></div><div class="card-widget card-tags"><div class="item-headline"><i class="fas fa-tags"></i><span>标签</span></div><div class="card-tag-cloud"><a href="/tags/Android/" style="font-size: 1.35em; color: rgb(186, 80, 30)">Android</a><a href="/tags/Spring/" style="font-size: 1.32em; color: rgb(161, 192, 56)">Spring</a><a href="/tags/Axios/" style="font-size: 1.22em; color: rgb(59, 44, 98)">Axios</a><a href="/tags/SpringBoot/" style="font-size: 1.38em; color: rgb(18, 8, 44)">SpringBoot</a><a href="/tags/GUI%E7%BC%96%E7%A8%8B/" style="font-size: 1.15em; color: rgb(3, 8, 14)">GUI编程</a><a href="/tags/ElasticSeach/" style="font-size: 1.15em; color: rgb(185, 22, 9)">ElasticSeach</a><a href="/tags/JavaSE/" style="font-size: 1.28em; color: rgb(1, 8, 134)">JavaSE</a><a href="/tags/JAVA%E9%9B%86%E5%90%88%E6%A1%86%E6%9E%B6/" style="font-size: 1.15em; color: rgb(63, 115, 137)">JAVA集合框架</a><a href="/tags/JMeter/" style="font-size: 1.15em; color: rgb(39, 141, 171)">JMeter</a><a href="/tags/SpringMVC/" style="font-size: 1.35em; color: rgb(60, 141, 36)">SpringMVC</a><a href="/tags/%E7%BB%B4%E6%8A%A4/" style="font-size: 1.32em; color: rgb(74, 82, 1)">维护</a><a href="/tags/Java%E5%9F%BA%E7%A1%80/" style="font-size: 1.35em; color: rgb(200, 169, 104)">Java基础</a><a href="/tags/Redis/" style="font-size: 1.38em; color: rgb(177, 49, 147)">Redis</a><a href="/tags/LoadRunner/" style="font-size: 1.15em; color: rgb(27, 39, 120)">LoadRunner</a><a href="/tags/%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8%E6%A1%86%E6%9E%B6/" style="font-size: 1.25em; color: rgb(20, 146, 195)">数据存储框架</a><a href="/tags/Mysql/" style="font-size: 1.15em; color: rgb(124, 28, 123)">Mysql</a><a href="/tags/%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8%E6%A1%86%E6%9E%B6-Mybatis-Plus/" style="font-size: 1.15em; color: rgb(41, 49, 168)">数据存储框架 Mybatis-Plus</a><a href="/tags/Promise/" style="font-size: 1.15em; color: rgb(105, 6, 156)">Promise</a><a href="/tags/React/" style="font-size: 1.45em; color: rgb(71, 144, 112)">React</a><a href="/tags/TypeScript/" style="font-size: 1.28em; color: rgb(177, 182, 192)">TypeScript</a><a href="/tags/Vue/" style="font-size: 1.42em; color: rgb(43, 165, 65)">Vue</a><a href="/tags/YonBuilder/" style="font-size: 1.15em; color: rgb(67, 122, 126)">YonBuilder</a><a href="/tags/uniApp/" style="font-size: 1.15em; color: rgb(159, 54, 140)">uniApp</a><a href="/tags/%E5%A4%9A%E7%BA%BF%E7%A8%8B/" style="font-size: 1.15em; color: rgb(193, 171, 80)">多线程</a><a href="/tags/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/" style="font-size: 1.15em; color: rgb(151, 3, 35)">排序算法</a><a href="/tags/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/" style="font-size: 1.15em; color: rgb(38, 101, 172)">网络编程</a><a href="/tags/SmartHome/" style="font-size: 1.18em; color: rgb(44, 25, 175)">SmartHome</a><a href="/tags/%E9%9D%99%E6%80%81%E4%BB%A3%E7%90%86/" style="font-size: 1.15em; color: rgb(192, 181, 117)">静态代理</a><a href="/tags/%E6%B3%A8%E8%A7%A3%E5%8F%8D%E5%B0%84/" style="font-size: 1.15em; color: rgb(64, 38, 143)">注解反射</a></div></div><div class="card-widget card-archives"><div class="item-headline"><i class="fas fa-archive"></i><span>归档</span><a class="card-more-btn" href="/archives/" title="查看更多">
    <i class="fas fa-angle-right"></i></a></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/12/"><span class="card-archive-list-date">十二月 2022</span><span class="card-archive-list-count">23</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/10/"><span class="card-archive-list-date">十月 2022</span><span class="card-archive-list-count">3</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/09/"><span class="card-archive-list-date">九月 2022</span><span class="card-archive-list-count">2</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/07/"><span class="card-archive-list-date">七月 2022</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/06/"><span class="card-archive-list-date">六月 2022</span><span class="card-archive-list-count">10</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/05/"><span class="card-archive-list-date">五月 2022</span><span class="card-archive-list-count">4</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/04/"><span class="card-archive-list-date">四月 2022</span><span class="card-archive-list-count">31</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/03/"><span class="card-archive-list-date">三月 2022</span><span class="card-archive-list-count">17</span></a></li></ul></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>网站资讯</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">文章数目 :</div><div class="item-count">129</div></div><div class="webinfo-item"><div class="item-name">已运行时间 :</div><div class="item-count" id="runtimeshow" data-publishDate="2021-09-28T16:00:00.000Z"></div></div><div class="webinfo-item"><div class="item-name">本站总字数 :</div><div class="item-count">265.5k</div></div><div class="webinfo-item"><div class="item-name">本站访客数 :</div><div class="item-count" id="busuanzi_value_site_uv"></div></div><div class="webinfo-item"><div class="item-name">本站总访问量 :</div><div class="item-count" id="busuanzi_value_site_pv"></div></div><div class="webinfo-item"><div class="item-name">最后更新时间 :</div><div class="item-count" id="last-push-date" data-lastPushDate="2022-12-29T11:24:45.371Z"></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2022 By Mrs.G</div><div class="footer_custom_text">中国 | 在此<br> <a href="/"><img class="icp-icon" src="https://gitee.com/airgwl/upic/raw/master/img/peicoffic.svg"><span>备案号：未知</span></a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="translateLink" type="button" title="简繁转换">简</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><div class="search-dialog__title" id="local-search-title">本地搜索</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div></div><hr/><div id="local-search-results"></div><span class="search-close-button"><i class="fas fa-times"></i></span></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><script src="/js/search/local-search.js"></script><script>var preloader = {
  endLoading: () => {
    document.body.style.overflow = 'auto';
    document.getElementById('loading-box').classList.add("loaded")
  },
  initLoading: () => {
    document.body.style.overflow = '';
    document.getElementById('loading-box').classList.remove("loaded")

  }
}
window.addEventListener('load',preloader.endLoading())</script><div class="js-pjax"><script>function subtitleType () {
  if (true) { 
    var typed = new Typed("#subtitle", {
      strings: "今天气真不错，陪喜欢的人出去走走吧.,每个想要学习的念头，都可能是未来的你在向你求救！,今天晚霞粉粉的我好喜欢你看到了吗.,我万物波澜不惊，唯独见你方寸大乱.,明确的爱 直接的厌恶 真诚的喜欢 所以我站在太阳底下都坦荡.,要不是喜欢你，谁想慢慢来.,你太笨了，看不出来我有多喜欢你.,你是微风，是晚霞，是心跳不止，是无可替代.".split(","),
      startDelay: 300,
      typeSpeed: 150,
      loop: true,
      backSpeed: 50
    })
  } else {
    document.getElementById("subtitle").innerHTML = '今天气真不错，陪喜欢的人出去走走吧.'
  }
}

if (true) {
  if (typeof Typed === 'function') {
    subtitleType()
  } else {
    getScript('https://cdn.jsdelivr.net/npm/typed.js/lib/typed.min.js').then(subtitleType)
  }
} else {
  subtitleType()
}</script></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/gh/metowolf/MetingJS@1.2/dist/Meting.min.js"></script><script src="https://cdn.jsdelivr.net/npm/pjax/pjax.min.js"></script><script>let pjaxSelectors = [
  'title',
  '#config-diff',
  '#body-wrap',
  '#rightside-config-hide',
  '#rightside-config-show',
  '.js-pjax'
]

if (true) {
  pjaxSelectors.unshift('meta[property="og:image"]', 'meta[property="og:title"]', 'meta[property="og:url"]')
}

var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {

  // removeEventListener scroll 
  window.removeEventListener('scroll', window.tocScrollFn)
  window.removeEventListener('scroll', scrollCollect)

  typeof preloader === 'object' && preloader.initLoading()
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')

})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof chatBtnFn === 'function' && chatBtnFn()
  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // Analytics
  if (false) {
    MtaH5.pgv()
  }

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()

  typeof preloader === 'object' && preloader.endLoading()
})

document.addEventListener('pjax:error', (e) => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginModelPath":"assets/","model":{"jsonPath":"/live2dw/assets/wanko.model.json"},"display":{"position":"left","width":200,"height":180},"mobile":{"show":false},"log":false,"pluginJsPath":"lib/","pluginRootPath":"live2dw/","tagMode":false});</script></body></html>